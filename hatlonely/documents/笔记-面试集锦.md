# 面试集锦

## c++相关

**1. c++里面有哪些智能指针，为什么会有智能指针，其应用场景有哪些**

boost里面的智能指针`boost::shared_ptr<T>`，`boost::scoped_ptr<T>`，`boost::weak_ptr<T>`，在c++11中被引入到标准库`std::shared_ptr<T>`，`std::unique_ptr<T>`，`std::weak_ptr<T>`；
智能指针是为了解决内存泄漏问题，由于c++需要程序员自己管理内存，经常出现内存泄漏，特别是在复杂的程序中，程序可能发生各种异常，内存管理十分困难；
智能指针的原理是引用计数；
`unique_ptr`用于用于作用域结束后自动销毁的临时变量；
`shared_ptr`多个对象共享同一个资源，在多线程的程序中，需要注意线程是否安全；
`weak_ptr`用于解决两个对象相互引用的问题，如果使用`shared_ptr`会导致两个对象都无法释放，造成内存泄漏。

**2. 继承的原理，对象的内存存储结构**

TODO

**3. virtual关键字有什么作用**

TODO

**4. sort的用法，逆序排列一个数组，对自定义类型排序**

逆序排列有几种方法：
    1) 正排再 reverse，20分
    2) 传入一个比较函数，40分
    3) 传入一个函数对象，40分
    4) 传入一个lambda表达式，60分
    5) std::greater<T>，100分

自定义类型的排序需要给自定义类型实现一个比较函数，有两种方式：
    1) 为自定义类型实现，operator < 方法，60分
    2) 实现自定义类型的友元函数，friend operator < (T a, T b)，60分
    3) 使用lambda表达式作为sort的参数，60分
    4) 全部答出，100分

**5. 标准库算法库里面有哪些常用的算法**

TODO

## 数据结构相关

**1. `map`和`unordered_map`的区别与联系**

底层数据结构不一样，`map`用红黑树实现，`unordered_map`用哈希实现；
`map`的`key`是有序的；查找、插入、删除时间复杂度都是`O(lgn)`；
`unordered_map`是无序的；查找、插入、删除的时间复杂度都是`O(1)`；
在需要key有序的场合`map`更适合，其他场合`unordered_map`可以获得更高的性能；
实践中`unordered_map`在数据量特别大的时候会遇到`rehash`问题，`rehash`是一个非常耗时的操作，甚至可能造成服务假死，所以在数据量特别大的场合，需要预估数据规模，尽量避免`rehash`的发生。

